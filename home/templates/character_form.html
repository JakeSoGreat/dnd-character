{% extends "base.html" %} 
{% block content %}

<h2>
    {{ character_form.instance.pk|yesno:'Edit Character,Create Character' }}
</h2>

<!-- Bootstrap Tabs -->
<ul class="nav nav-tabs" id="characterTabs" role="tablist">
    <li class="nav-item" role="presentation">
        <button
            class="nav-link active"
            id="character-tab"
            data-bs-toggle="tab"
            data-bs-target="#character"
            type="button"
        >
            Character Info
        </button>
    </li>
    <li class="nav-item" role="presentation">
        <button
            class="nav-link"
            id="quick-add-tab"
            data-bs-toggle="tab"
            data-bs-target="#quick-add"
            type="button"
        >
            Add New Spells & Items
        </button>
    </li>
</ul>

<div class="tab-content" id="characterTabsContent">
    <!-- Main Character Form Tab -->
    <div class="tab-pane fade show active" id="character" role="tabpanel">
        <div class="mt-3">
            <form method="post">
                {% csrf_token %} {{ character_form.as_p }}
                <button type="submit" class="btn btn-primary">
                    Save Character
                </button>
                <a href="{% url 'character_list' %}" class="btn btn-secondary"
                    >Back to list</a
                >
            </form>
        </div>
    </div>

    <!-- Quick Add Tab -->
    <div class="tab-pane fade" id="quick-add" role="tabpanel">
        <div class="mt-3">
            <div class="row">
                <div class="col-md-6">
                    <h5>Add New Spell</h5>
                    <form method="post">
                        {% csrf_token %} {{ spell_form.as_p }}
                        <button
                            type="submit"
                            name="add_spell"
                            class="btn btn-success"
                        >
                            Add Spell
                        </button>
                    </form>
                </div>

                <div class="col-md-6">
                    <h5>Add New Item</h5>
                    <form method="post">
                        {% csrf_token %} {{ item_form.as_p }}
                        <button
                            type="submit"
                            name="add_item"
                            class="btn btn-success"
                        >
                            Add Item
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}
